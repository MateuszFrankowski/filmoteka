var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=e.parcelRequired76b;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var i=o[e];delete o[e];var d={id:e,exports:{}};return n[e]=d,i.call(d.exports,d,d.exports),d.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,n){o[e]=n},e.parcelRequired76b=i);var d=i("ftYLF"),t=i("eyjy7"),r=i("x2zem");(()=>{const e=document.getElementById("libraryBtn"),n=document.querySelector("svg.icon-login"),o=document.querySelector("svg.icon-logout"),i=document.querySelector("p.home-header__greeting, p.library-header__greeting"),l=new(0,t.GoogleAuthProvider);let a;window.userSigned=!1,window.userUid="",n.onclick=()=>(0,t.signInWithPopup)(r.auth,l),o.onclick=()=>(0,t.signOut)(r.auth).then((()=>{window.userSigned=!1})).catch((e=>{})),r.auth.onAuthStateChanged((d=>{d?(n.classList.add("hidden"),o.classList.remove("hidden"),i.innerHTML=`Hello ${d.displayName}!`,e.classList.remove("hidden"),window.userUid=!0):(n.classList.remove("hidden"),o.classList.add("hidden"),i.innerHTML="",e.classList.add("hidden"),window.userUid=!1,-1===window.location.href.search("index.html")&&(console.log(window.location.href),window.location.href="index.html"))})),r.auth.onAuthStateChanged((async e=>{e?(window.userSigned=!0,window.userUid=e.uid,a=(0,d.onSnapshot)((0,r.doc)(r.db,"films",e.uid.toString()),(e=>{console.log("Current data: ",e.data())}))):a&&a()}))})();
//# sourceMappingURL=index.29ea6b84.js.map
