{"mappings":"iiBAAA,I,EAAAA,EAAAC,EAAA,S,8EAeMC,G,eAAYC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,IAQVC,E,yEAPNC,EAAAC,WAAWC,UAAY,OACvBF,EAAAC,WAAWE,KAAOC,OAAOC,SAASC,KAAKC,OAAO,IAC9CP,EAAAC,WAAWO,MAAQ,MACnB,EAAAC,EAAAC,oB,UAIqB,EAAAC,EAAAC,qBAAoBZ,EAAAC,WAAWE,KAAMH,EAAAC,WAAWO,O,OAA/DT,EAAMc,EAAAC,KACZd,EAAAC,WAAWE,KAAOC,OAAOC,SAASC,KAAKC,OAAO,IAC9CQ,QAAQC,IAAIjB,EAAOI,MACnBH,EAAAC,WAAWgB,WAAalB,EAAOmB,YAC3BnB,EAAOmB,YAAc,IACvB,EAAAC,EAAAC,eAGF,EAAAC,EAAAC,cAAavB,IACb,EAAAsB,EAAAE,iBAGA,EAAAJ,EAAAK,YAGmC,GAA/BC,YAAYC,WAAWC,MACzBtB,SAASuB,QAAO,G,wFAIpBlC,IAaAmC,OAAOC,iBAAiB,kBAAkB,WAExCD,OAAOxB,SAASuB,Q","sources":["src/js/home.js"],"sourcesContent":["import { pagination, loadPage } from './pagination';\nimport { fetchTheMovieDBList } from './api';\nimport { dataMovies } from './global';\nimport { addLoaderSpinner } from './loaderSpinner';\nimport { createMovies } from './gallery';\nimport { clickGallery } from './gallery';\n// import {\n//   fetchUserDataFromFirestore,\n//   addUserDataToFirestore,\n//   fetchUserFilmData,\n//   updateUserFilmData,\n//   deleteUserFilmData,\n//   userSigned,\n// } from './firebase';\n\nconst startPage = async () => {\n  dataMovies.fetchType = 'home';\n  dataMovies.page = Number(location.hash.substr(5));\n  dataMovies.query = null;\n  addLoaderSpinner();\n  // yours listeners no using start movies variable in function\n\n  //\n  const movies = await fetchTheMovieDBList(dataMovies.page, dataMovies.query);\n  dataMovies.page = Number(location.hash.substr(5));\n  console.log(movies.page);\n  dataMovies.totalPages = movies.total_pages;\n  if (movies.total_pages > 0) {\n    pagination();\n  }\n  // function to creating gallery\n  createMovies(movies);\n  clickGallery();\n  //\n\n  loadPage();\n  // yours listeners using start movies variable in function\n  //\n  if (performance.navigation.type == 2) {\n    location.reload(true);\n  }\n};\n\nstartPage();\n// console.log(2);\n// window.addEventListener('pageshow', function (event) {\n//   var historyTraversal =\n//     event.persisted ||\n//     (typeof window.performance != 'undefined' &&\n//       window.performance.navigation.type === 2);\n//   if (historyTraversal) {\n//     // Handle page restore.\n//     window.location.reload();\n//     window.location.reload();\n//   }\n// });\nwindow.addEventListener('locationchange', function () {\n  // console.log('location changed!');\n  window.location.reload();\n});\n"],"names":["$bpxeT","parcelRequire","$4f1c0259bbb55e68$var$startPage","$parcel$interopDefault","$2TvXO","mark","_callee","movies","$6yrqd","dataMovies","fetchType","page","Number","location","hash","substr","query","$gvgly","addLoaderSpinner","$b7ONl","fetchTheMovieDBList","_ctx","sent","console","log","totalPages","total_pages","$jcFG7","pagination","$8S4BJ","createMovies","clickGallery","loadPage","performance","navigation","type","reload","window","addEventListener"],"version":3,"file":"index.131e8768.js.map"}