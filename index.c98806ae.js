var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},d={},t=e.parcelRequired76b;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in d){var t=d[e];delete d[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){d[e]=n},e.parcelRequired76b=t);var i=t("ftYLF"),o=t("eyjy7"),s=t("x2zem");(()=>{const e=document.getElementById("whenSignedIn"),n=document.getElementById("whenSignedOut"),d=document.getElementById("libraryBtn"),t=document.getElementById("signInBtn"),l=document.getElementById("signOutBtn"),r=document.querySelector("svg.icon-login"),a=document.querySelector("svg.icon-logout"),u=document.getElementById("userDetails"),c=new(0,o.GoogleAuthProvider);let h;window.userSigned=!1,window.userUid="",t.onclick=()=>(0,o.signInWithPopup)(s.auth,c),r.onclick=()=>(0,o.signInWithPopup)(s.auth,c),l.onclick=()=>(0,o.signOut)(s.auth).then((()=>{window.userSigned=!1})).catch((e=>{})),a.onclick=()=>(0,o.signOut)(s.auth).then((()=>{window.userSigned=!1})).catch((e=>{})),s.auth.onAuthStateChanged((t=>{t?(r.classList.add("hidden"),a.classList.remove("hidden"),e.classList.remove("hidden"),n.classList.add("hidden"),u.innerHTML=`<h3>Hello ${t.displayName}!</h3>`,d.classList.remove("hidden"),window.userUid=!0):(r.classList.remove("hidden"),a.classList.add("hidden"),e.classList.add("hidden"),n.classList.remove("hidden"),u.innerHTML="",d.classList.add("hidden"),window.userUid=!1,-1===window.location.href.search("index.html")&&(console.log(window.location.href),window.location.href="index.html"))})),s.auth.onAuthStateChanged((async e=>{e?(window.userSigned=!0,window.userUid=e.uid,h=(0,i.onSnapshot)((0,s.doc)(s.db,"films",e.uid.toString()),(e=>{console.log("Current data: ",e.data())}))):h&&h()}))})();
//# sourceMappingURL=index.c98806ae.js.map
