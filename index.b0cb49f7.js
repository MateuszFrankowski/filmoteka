var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},d={},t=e.parcelRequired76b;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in d){var t=d[e];delete d[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){d[e]=n},e.parcelRequired76b=t);var i=t("ftYLF"),o=t("eyjy7"),s=t("x2zem");const l=document.getElementById("whenSignedIn"),r=document.getElementById("whenSignedOut"),a=document.getElementById("libraryBtn"),u=document.getElementById("signInBtn"),c=document.getElementById("signOutBtn"),h=document.querySelector("svg.icon-login"),g=document.querySelector("svg.icon-logout"),w=document.getElementById("userDetails"),m=new(0,o.GoogleAuthProvider);let f;window.userSigned=!1,window.userUid="",u.onclick=()=>(0,o.signInWithPopup)(s.auth,m),h.onclick=()=>(0,o.signInWithPopup)(s.auth,m),c.onclick=()=>(0,o.signOut)(s.auth).then((()=>{window.userSigned=!1})).catch((e=>{})),g.onclick=()=>(0,o.signOut)(s.auth).then((()=>{window.userSigned=!1})).catch((e=>{})),s.auth.onAuthStateChanged((e=>{e?(h.classList.add("hidden"),g.classList.remove("hidden"),l.classList.remove("hidden"),r.classList.add("hidden"),w.innerHTML=`<h3>Hello ${e.displayName}!</h3>`,a.classList.remove("hidden"),window.userUid=!0):(h.classList.remove("hidden"),g.classList.add("hidden"),l.classList.add("hidden"),r.classList.remove("hidden"),w.innerHTML="",a.classList.add("hidden"),window.userUid=!1,-1===window.location.href.search("index.html")&&(console.log(window.location.href),window.location.href="index.html"))})),s.auth.onAuthStateChanged((async e=>{e?(window.userSigned=!0,window.userUid=e.uid,f=(0,i.onSnapshot)((0,s.doc)(s.db,"films",e.uid.toString()),(e=>{console.log("Current data: ",e.data())}))):f&&f()}));
//# sourceMappingURL=index.b0cb49f7.js.map
