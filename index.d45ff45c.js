!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},i={},t=n.parcelRequired76b;null==t&&((t=function(e){if(e in o)return o[e].exports;if(e in i){var n=i[e];delete i[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){i[e]=n},n.parcelRequired76b=t);var r,d,u,a,s,c,l,h=t("bpxeT"),f=t("2TvXO"),w=t("6m2hf"),g=t("gQOBw"),p=t("6yrqd");u=document.getElementById("libraryBtn"),a=document.querySelector("svg.icon-login"),s=document.querySelector("svg.icon-logout"),c=document.querySelector("p.home-header__greeting, p.library-header__greeting"),l=new(0,g.GoogleAuthProvider),window.userSigned=!1,window.userUid="",a.onclick=function(){return(0,g.signInWithPopup)(p.auth,l)},s.onclick=function(){return(0,g.signOut)(p.auth).then((function(){window.userSigned=!1})).catch((function(e){}))},p.auth.onAuthStateChanged((function(e){e?(a.classList.add("hidden"),s.classList.remove("hidden"),c.innerHTML="Hello ".concat(e.displayName,"!"),u.classList.remove("hidden"),window.userUid=!0):(a.classList.remove("hidden"),s.classList.add("hidden"),c.innerHTML="",u.classList.add("hidden"),window.userUid=!1,-1===window.location.href.search("index.html")&&(console.log(window.location.href),window.location.href="index.html"))})),p.auth.onAuthStateChanged((d=e(h)(e(f).mark((function n(o){return e(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o?(window.userSigned=!0,window.userUid=o.uid,r=(0,w.onSnapshot)((0,p.doc)(p.db,"films",o.uid.toString()),(function(e){console.log("Current data: ",e.data())}))):r&&r();case 1:case"end":return e.stop()}}),n)}))),function(e){return d.apply(this,arguments)}))}();
//# sourceMappingURL=index.d45ff45c.js.map
